#   # beginGroupOrRepeat:
#   #   properties:
#   #     type:
#   #       type: string
#   #       enum: ['begin_group', 'begin_repeat']

type: object
additionalProperties: false
required:
- 'type'
# - '$anchor'
properties:
  type:
    $ref: '#/$defs/surveyRowType'
  name:
    type: string
  params:
    type: object

  $anchor:
    type: string
  appearance:
    type: string

  # auto_delete:
  #   type: string
  bind:
    $ref: '#/$defs/type--string'
  calculation:
    $ref: '#/$defs/type--string'
  choice_filter:
    $ref: '#/$defs/type--string'
  compact_tag:
    $ref: '#/$defs/type--string'
  constraint:
    type: object
    properties:
      message:
        $ref: '#/$defs/translatable'
  relevant:
    $ref: '#/$defs/xpath'

  label:
    $ref: '#/$defs/translatable'
  hint:
    $ref: '#/$defs/translatable'
  guidance_hint:
    $ref: '#/$defs/translatable'
  constraint_message:
    $ref: '#/$defs/translatable'

  image:
    $ref: '#/$defs/translatableMedia'
  audio:
    $ref: '#/$defs/translatableMedia'
  video:
    $ref: '#/$defs/translatableMedia'

  intent:
    type: string
  kobo--rank-constraint-message:
    type: string
  kobo--score-choices:
    type: string
  'kobo--matrix_list':
    type: string
  # parameters:
  # !!renamed to "params"
  #   type: string
  default:
    anyOf:
      - $ref: '#/$defs/type--string'
      - $ref: '#/$defs/booleanOrXpath'
  read_only:
    $ref: '#/$defs/booleanOrXpath'
  required:
    $ref: '#/$defs/booleanOrXpath'
  select_from:
    type: string
    pattern: 'CHOICE_LIST_NAME_REGEX'
  choice_filter:
    $ref: '#/$defs/choiceFilter'
  'kobo--rank-items':
    type: string
    pattern: 'CHOICE_LIST_NAME_REGEX'
  select_from_file:
    type: string
